"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("../../service-worker.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});let deferredPrompt;function showInstallPromotion(){console.log("Ok on peut installer"),$("#install").show()}window.addEventListener("beforeinstallprompt",e=>{console.log("beforeinstallprompt fired: "+e),e.preventDefault(),deferredPrompt=e,showInstallPromotion()}),$(document).ready(function(){$("#install").click(function(){deferredPrompt&&(deferredPrompt.prompt(),deferredPrompt.userChoice.then(e=>{"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),deferredPrompt=null}))}),$("#citation").click(function(){$("img").css("display","block"),console.log("click"),$.ajax({url:"https://script.google.com/macros/s/AKfycbxCGr_uSuZsu99DjbETA6z5jFkbrgY-Mt5ClCCM7llJpsrmq1sBpEvy9Nrmx0x18Spk/exec",method:"GET",dataType:"json",success:function(e){console.log(e.data);var o=Math.floor(Math.random()*e.data.length),t=e.data[o].Citation,r=e.data[o].Auteur,n=(console.log(r),e.data[o].Description),e=e.data[o].URLImage;$("h1").html(t),$("img").attr("src",e),$("h2").html(r),$("p").html(n)}})})});